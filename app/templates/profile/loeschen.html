{% extends 'layout.html' %}

{% block pageContent %}

<!-- Header -->
<div class="w3-container w3-center" style="padding-bottom: 32px;">
  {% if is_mitarbeiter %}
  {% if mitarbeiter %}
               {% endif %}
    <h1><b>Mitarbeiter Profilseite und links für die Bearbeitung</b></h1>
 </div>
      <p>eigene Daten: </p>
        <ul>
        <p>ID: {{ mitarbeiter.ma_id }}</p>
        <p>Vorname: {{ mitarbeiter.vorname }}</p>
        <p>Nachname: {{ mitarbeiter.nachname }}</p>
        <p>NDS: {{ mitarbeiter.nds }}</p>
        <p>E-Mail: {{ mitarbeiter.email }}</p>
        </ul>
        <h2>Mitarbeiter von {{ mitarbeiter.lehrstuhl.name }}:</h2>
    <table class="w3-table w3-striped w3-border">
        <thead>
            <tr>
                <th>ID</th>
                <th>Vorname</th>
                <th>Nachname</th>
                <th>NDS</th>
                <th>E-Mail</th>
                <th>Aktionen</th>
            </tr>
        </thead>
        <tbody>
            {% for mitarbeiter in alle_mitarbeiter %}
                <tr>
                    <td>{{ mitarbeiter.ma_id }}</td>
                    <td>{{ mitarbeiter.vorname }}</td>
                    <td>{{ mitarbeiter.nachname }}</td>
                    <td>{{ mitarbeiter.nds }}</td>
                    <td>{{ mitarbeiter.email }}</td>
                    <td>
                            <!-- Links für Bearbeiten und Löschen -->
                            <a href="{{ url_for('bearbeiten', ma_id=mitarbeiter.ma_id) }}">Bearbeiten</a>
                            <a href="{{ url_for('loeschen', ma_id=mitarbeiter.ma_id) }}">Löschen</a>
                        </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
        <p>Du bist kein Mitarbeiter.</p>
    {% endif %}
    
<!-- Profile Card -->
<div class="w3-container w3-center w3-padding-16" style="display: inline-block;">
  <div id="studentCard" class="w3-card w3-center" style="min-width: 250px; display: inline-block;">
    <header id="studentName" class="w3-container w3-wiwi-color">
      <h3>{{ studentName | safe }}</h3>
    </header>

    <div id="studentPrivateData" class="w3-container">
      {% for o in studentPrivateData %}
      <p value="{{ o | safe }}">{{ o | safe }}</p>
      {% endfor %}
    </div>

    <footer class="w3-container w3-wiwi-color"></footer>
  </div>
</div>

<!-- Already owning a Locker -->
<div id="studentHasReservation" {{ studentHasReservationVis }}>

  <!-- Locker Card -->
  <div class="w3-container w3-center w3-padding-16" style="display: inline-block;">
    <div id="lockerCard" class="w3-card w3-center" style="min-width: 250px; display: inline-block;">
      <header id="lockerNumber" class="w3-container w3-wiwi-color">
        <h3>{{ lockerNumber | safe }}</h3>
      </header>

      <div id="lockerInformation" class="w3-container">
        {% for o in lockerInformation %}
        <p value="{{ o | safe }}">{{ o | safe }}</p>
        {% endfor %}
      </div>

      <footer class="w3-container w3-wiwi-color"></footer>
    </div>
  </div>

</div>

<!-- Able to reserve a locker -->
<div class="w3-container w3-padding-16" id="studentHasNoReservation" {{ studentHasNoReservationVis }}>

  <!-- Mieten Button -->
  <div class="w3-container w3-center w3-padding-16">
    <a href="{{ url_for('bp_mieten.mieten')}}"
      class="w3-button w3-wiwi-color w3-padding-large w3-large w3-margin-top w3-round">Jetzt Mieten</a>
  </div>

</div>

<!-- Logout Button -->
<div class="w3-container w3-center w3-padding-16">
  <a href="{{ url_for('bp_auth.logout')}}"
    class="w3-button w3-red w3-padding-large w3-large w3-margin-top w3-round">Logout</a>
</div>

{% endblock %}